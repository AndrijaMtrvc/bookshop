<div class="max-w-7xl mx-auto py-6 px-4">
  <h1 class="text-3xl font-bold text-red-900 mb-6">Edit Book</h1>
  <%= form_with model: @book, url: admin_book_path(@book), method: :patch, local: true, class: "flex flex-col gap-4 max-w-lg", multipart: true do |form| %>
    <div>
      <%= form.label :title, "Title", class: "text-gray-700 font-semibold" %>
      <%= form.text_field :title, class: "p-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-red-900" %>
    </div>
    <div>
      <%= form.label :author_id, "Author", class: "text-gray-700 font-semibold" %>
      <%= form.collection_select :author_id, Author.order(:name), :id, :name, { prompt: "Select an author" }, class: "p-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-red-900" %>
    </div>
    <div>
      <%= form.label :genre_id, "Genre", class: "text-gray-700 font-semibold" %>
      <%= form.collection_select :genre_id, Genre.order(:name), :id, :name, { prompt: "Select a genre" }, class: "p-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-red-900" %>
    </div>
    <div>
      <%= form.label :price, "Price", class: "text-gray-700 font-semibold" %>
      <%= form.number_field :price, step: 0.01, class: "p-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-red-900" %>
    </div>
    <div>
      <%= form.label :stock, "Stock", class: "text-gray-700 font-semibold" %>
      <%= form.number_field :stock, step: 1, class: "p-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-red-900" %>
    </div>
    <div>
      <%= form.label :description, "Description", class: "text-gray-700 font-semibold" %>
      <%= form.text_area :description, class: "p-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-red-900", rows: 5 %>
    </div>
    <div>
      <%= form.label :image, "Book Image", class: "text-gray-700 font-semibold" %>
      <%= form.file_field :image, class: "p-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-red-900" %>
      <% if @book.image.attached? %>
        <p class="text-gray-600 mt-2">Current image:</p>
        <%= image_tag @book.image, class: "w-32 h-48 object-cover rounded-lg mt-2" %>
      <% end %>
    </div>
    <div class="flex gap-4">
      <%= form.submit "Update Book", class: "bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700" %>
      <%= link_to "Cancel", admin_path, class: "bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700" %>
    </div>
  <% end %>
</div>